<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>设计模式：design pattern</title>
</head>
<body>
  <script>
    // 以类的方式定义观察者和被观察者
    class Observer {
      // 观察者定义一个update的方法，在被观察者变化时触发
      update () {
        console.log('已侦听到数据变化，并进行了响应的处理!')
      }
    }
    class Subject {
      constructor () {
        this.observers = []
      }
      addObserver (observer) {
        if (observer && observer.update ) {
          this.observers.push(observer)
        }
      }
      notify () {
        this.observers.forEach(observer => {
          observer.update()
        })
      }
    }

    const observer1 = new Observer()
    const observer11 = new Observer()
    const subject = new Subject()
    subject.addObserver(observer1)
    subject.addObserver(observer11)
    subject.notify()

  </script>
</body>
</html>